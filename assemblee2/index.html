<!DOCTYPE html>
<html>
  
<!-- Mirrored from projects.delimited.io/experiments/force-bubbles/radial.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 04 Nov 2017 23:55:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>L'assemblée</title>
    <!--<link rel="shortcut icon" href="http://projects.delimited.io/experiments/common/delimited-favicon-v4.ico">-->
    <link href="css/bootstrap.css" rel="stylesheet">
	
		<!--new abdou-->
	
	<!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css" />
    <!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css" />

    <link href='https://fonts.googleapis.com/css?family=Raleway:400,300,500,700,900' rel='stylesheet' type='text/css'>
    <!-- FontAwesome CSS -->
    <link href="assets/fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- materialize -->
    <link href="assets/materialize/css/materialize.min.css" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- shortcodes -->
    <link href="assets/css/shortcodes/shortcodes.css" rel="stylesheet">
    <!-- Style CSS -->
    <link href="assets/style.css" rel="stylesheet">
    <style>
        .slick-prev:before,
        .slick-next:before {
            color: black;
        }

        .slick-prev {
            left: -18px;
        }

        .slick-next {
            right: 0px;
        }

        .main-content {
            padding-top: 9vh;
        }

        .webradar {
            height: 71vh;
            width: 100%;
            vertical-align: middle;
            padding-top: 25%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .logo {
            display: block;
            margin: auto;
        }

        .parent {
            position: relative;
        }

        .layer {
            width: 100%;
            height: 71vh;
            position: absolute;
            top: 0;
            left: 0;
            background: #b3dced; /* Old browsers */
            background: -moz-linear-gradient(-45deg, #b3dced 0%, #29b8e5 19%, #2386c4 42%, #29b8e5 67%, #29b8e5 74%, #29b8e5 87%, #bce0ee 100%); /* FF3.6-15 */
            background: -webkit-linear-gradient(-45deg, #b3dced 0%,#29b8e5 19%,#2386c4 42%,#29b8e5 67%,#29b8e5 74%,#29b8e5 87%,#bce0ee 100%); /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(135deg, #b3dced 0%,#29b8e5 19%,#2386c4 42%,#29b8e5 67%,#29b8e5 74%,#29b8e5 87%,#bce0ee 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b3dced', endColorstr='#bce0ee',GradientType=1 );
            opacity: 0;
            -webkit-transition: opacity .5s ease-out;
            -moz-transition: opacity .5s ease-out;
            -o-transition: opacity .5s ease-out;
            transition: opacity .5s ease-out;
            cursor: pointer;
            
        }

        .layer:hover {
            opacity: .2;
        }
    </style>
	
	<!--end new abdou-->
	
	
    <style type="text/css">
      body {
        background-color: black;
        margin: auto;
		display: block;
      }
      circle {
        stroke: white;
        stroke-width: 2px;
        opacity: .9;
      }
      .btn-group {
		
        //margin-left: 30%;
      }
      .label {
        fill: white;
        font-size: 15px;
      }
    </style>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45101494-1']);
    _gaq.push(['_setDomainName', 'delimited.io']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </head>
  <body>
  
  	<!--header from abdou-->
	
	<header id="header" class="tt-nav sticky transparent-header" style="z-index: 1500;">
        <div class="header-sticky light-header">
            <div class="container">
                <div id="materialize-menu" class="menuzord menuzord-responsive"><a href="javascript:void(0)" class="showhide" style="display: none;"><em></em><em></em><em></em></a><a href="index.html"
                        class="logo-brand"><img class="logo-dark" src="./img/logo.png" alt=""><img class="logo-light" src="./img/logo.png" alt=""></a>
                    <ul class="menuzord-menu pull-left light menuzord-indented scrollable" style="max-height: 400px;">
                        <li ><a href="/">Home</a></li>
                        <li class=""><a href="javascript:void(0)">Municipal <span class="indicator"><i class="fa"></i></span></a>
                            <!-- react-text: 15 -->
                            <!-- /react-text -->
                            <ul class="dropdown" style="right: auto;">
                                <li><a href="/munre">Insights</a></li>
                                <li><a href="/detailed-reg">Registration</a></li>
                                <li><a href="/reg-performance">Registration perfomance</a></li>
                            </ul>
                        </li>
                        <li class=""><a href="javascript:void(0)">election data<span class="indicator"><i class="fa"></i></span></a>
                            <!-- react-text: 25 -->
                            <!-- /react-text -->
                            <ul class="dropdown" style="right: auto; display: none;">
                                <li><a href="/invalid">Invalid</a></li>
                                <li><a href="/turnout">Turnout</a></li>
                                <li><a href="/socio">Socio Election</a></li>
                            </ul>
                        </li>
                        <li><a href="/">election result</a>
                            <ul class="dropdown" style="right: auto;">
                              <li><a href="javascript:void(0)">Maps</a>
                                <ul class="dropdown" style="right: auto;">
                                  <li><a href="/result/2011/index.html">Parliamentary 2011</a></li>
                                  <li><a href="/result/2014/demos/Maps_Bubble/Elections2014.html">Parliamentary 2014</a></li>
                                  <li><a href="/result/visPrez/demos/Maps_with_Drill_Down/Tunisia_presidential_election_2008.html">Presidential 2014</a></li>
                                </ul>
                              </li>
                              <li><a href="javascript:void(0)">Archive</a></li>
                            </ul>
                        </li>   
                        <li class="active"><a href="/">Web Radar</a></li>
                        <li class="scrollable-fix"></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
	
	<!--end header from abdou-->
<div class="container-fluid main-content">
 <div class="row">
  
  
  <div class=" text-center"> 
    <div class="btn-group" data-toggle="buttons">
      <label class="btn btn-primary active" id="bloc">
        <input type="radio" name="options"> Bloc
      </label>
      <label class="btn btn-primary" id="profession">
        <input type="radio" name="options"> Profession
      </label>
      <label class="btn btn-primary" id="age">
        <input type="radio" name="options"> Age
      </label>
      <label class="btn btn-primary" id="region">
        <input type="radio" name="options"> Région
	</label>
      <label class="btn btn-primary" id="sexe">
        <input type="radio" name="options"> Sexe
      </label>
    </div>
	<br>
	<div class="btn-group" data-toggle="buttons">
	<label class="btn btn-primary mb1 bg-blue" style="background-color: #a9a9a9; border-color:#a9a9a9;" id="blocs">
        <input type="radio" name="options"> Tous les Blocs
      </label>
      <label class="btn btn-primary mb1 bg-blue" style="background-color: #3159d7; border-color:#3159d7;" id="Mouvement_Ennahdha1">
        <input type="radio" name="options"> Ennahdha
      </label>
      <label class="btn btn-primary bg-red" style="background-color: #c70039; border-color:#c70039;" id="Mouvement_Nidaa_Tounes1">
        <input type="radio" name="options"> Nidaa Tounes
      </label>
	        <label class="btn btn-primary" id="Bloc_Al_Horra_du_Mouvement_Machrouu_Tounes1" style="background-color: #66ffcc; border-color:#66ffcc;">
        <input type="radio" name="options"> Bloc Al Horra
	</label>
      <label class="btn btn-primary" style="background-color: #e58846; border-color:#e58846" id="Bloc_Démocrate1">
        <input type="radio" name="options"> Bloc Démocrate
      </label>
      <label class="btn btn-primary" id="Front_Populaire1" style="background-color: #FF0099; border-color:#FF0099">
        <input type="radio" name="options"> Front Populaire
      </label>
	  <label class="btn btn-primary" id="Union_Patriotique_Libre1" style="background-color: #009933; border-color:#009933">
        <input type="radio" name="options"> Union Patriotique Libre
      </label>
	  <label class="btn btn-primary" id="Afek_Tounes_et_lappel_des_tunisiens_à_létranger1" style="background-color: #ffc400; border-color:#ffc400">
        <input type="radio" name="options"> Afek Tounes
      </label>
	  <label class="btn btn-primary" id="Bloc_National1" style="background-color: #99cc00; border-color:#99cc00">
        <input type="radio" name="options"> Bloc National
      </label>
	  <label class="btn btn-primary" id="Aucun_bloc1" style="background-color: #FFA07A; border-color:#FFA07A">
        <input type="radio" name="options"> Aucun Bloc
      </label>
    </div>
	
    <div id="chart" style="margin:auto;"></div></div>
	
	</div></div>
    <script src="lib/d3.js"></script>
    <script src="lib/jquery.js"></script>
    <script src="lib/bootstrap.js"></script>
    <script src="lib/underscore.js"></script>
    <script>
      d3.csv('data/result.csv', function (error, data) {

	  
        var width = (window.innerWidth/10)* 8.5, height = (window.innerHeight/10)*9;
        var fill = d3.scale.ordinal().range(['#C70039','#3159d7','#ffc400','#66ffcc','#009933','#FFA07A','#99cc00','#FF0099','#e58846'])
        var svg = d3.select("#chart").append("svg")
            .attr("width", width)
            .attr("height", height);

        for (var j = 0; j < data.length; j++) {
          //data[j].radius = +data[j].comb / 2;
		  if (window.innerHeight > window.innerWidth)
			data[j].radius = window.innerHeight / 150;
		else
			data[j].radius = window.innerWidth / 150;
          data[j].x = Math.random() * width;
          data[j].y = Math.random() * height;
        }

        var padding = 4;
        var maxRadius = d3.max(_.pluck(data, 'radius'));
		
        var getCenters = function (vname, size) {
          var centers, map;
          centers = _.uniq(_.pluck(data, vname)).map(function (d) {
            return {name: d, value: 1};
          });

          map = d3.layout.treemap().size(size).ratio(1/1);
          map.nodes({children: centers});

          return centers;
        };

        var nodes = svg.selectAll("circle")
          .data(data);

        nodes.enter().append("circle")
          .attr("class", "node")
          .attr("cx", function (d) { return d.x; })
          .attr("cy", function (d) { return d.y; })
          .attr("r", 2)
          .style("fill", function (d) { return fill(d.bloc); })
          .on("mouseover", function (d) { showPopover.call(this, d); })
          .on("mouseout", function (d) { removePopovers(); })
		  .on("click", function(d){
         //var url = "http://somelink.com/link.php?id=";
        var url = "https://majles.marsad.tn/2014/fr/"+d.href;
        //$(location).attr('href', url);
		//window.location = url;    
		var win = window.open(url, '_blank');
		win.focus();
	});

        nodes.transition().duration(1000)
          .attr("r", function (d) { return d.radius; })

        var force = d3.layout.force();

        draw('bloc');

        $( ".btn" ).click(function() {
          draw(this.id);
        });

        function draw (varname) {
		if(varname.indexOf("1") !== -1)
		{
			nodes.transition()
				.duration(2000)
				.style('opacity', function(d) { var test = d.groupe_id+"1";
												if (test !== varname) return 0;
												else if (test == varname) return 0.9;});
		}
		else if (varname == "blocs")
		{nodes.transition()
				.duration(2000)
				.style('opacity', 0.9);}
		else{
          var centers = getCenters(varname, [width, height]);
          force.on("tick", tick(centers, varname));
          labels(centers)
          force.start();
        }}

        function tick (centers, varname) {
          var foci = {};
          for (var i = 0; i < centers.length; i++) {
            foci[centers[i].name] = centers[i];
          }
          return function (e) {
            for (var i = 0; i < data.length; i++) {
              var o = data[i];
              var f = foci[o[varname]];
              o.y += ((f.y + (f.dy / 2)) - o.y) * e.alpha;
              o.x += ((f.x + (f.dx / 2)) - o.x) * e.alpha;
            }
            nodes.each(collide(.11))
              .attr("cx", function (d) { return d.x; })
              .attr("cy", function (d) { return d.y; });
          }
        }

        function labels (centers) {
          svg.selectAll(".label").remove();

          svg.selectAll(".label")
          .data(centers).enter().append("text")
          .attr("class", "label")
          .text(function (d) { return d.name })
          .attr("transform", function (d) {
            return "translate(" + (d.x + (d.dx / 2) - 30) +", " + (d.y + 20) + ")";
          });
        }

        function removePopovers () {
          $('.popover').each(function() {
            $(this).remove();
          }); 
        }

        function showPopover (d) {
          $(this).popover({
            placement: 'auto top',
            container: 'body',
            trigger: 'manual',
            html : true,
            content: function() { 
             return '<img src="'+ d.photo+ '" />'+"Nom : " + d.nom + "<br/>Bloc : " + d.bloc + "<br/>Région : " + d.region +
                     "<br/>Age : " + d.age + "<br/>Profession : " + d.profession; }
          });
          $(this).popover('show')
        }

        function collide(alpha) {
          var quadtree = d3.geom.quadtree(data);
          return function(d) {
            var r = d.radius + maxRadius + padding,
                nx1 = d.x - r,
                nx2 = d.x + r,
                ny1 = d.y - r,
                ny2 = d.y + r;
            quadtree.visit(function(quad, x1, y1, x2, y2) {
              if (quad.point && (quad.point !== d)) {
                var x = d.x - quad.point.x,
                    y = d.y - quad.point.y,
                    l = Math.sqrt(x * x + y * y),
                    r = d.radius + quad.point.radius + padding;
                if (l < r) {
                  l = (l - r) / l * alpha;
                  d.x -= x *= l;
                  d.y -= y *= l;
                  quad.point.x += x;
                  quad.point.y += y;
                }
              }
              return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;
            });
          };
        }
      });
    </script>
	
	<!-- js abdou -->

    <script type="text/javascript" src="http://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>
    <script>
        $('.fade4').slick({
            arrows: true,
            autoplay: true,
            infinite: true,
            speed: 500,
            fade: true,
            cssEase: 'linear',
            pauseOnHover: true
        });
        $('.fade2').slick({
            arrows: true,
            autoplay: true,
            infinite: true,
            speed: 500,
            fade: true,
            cssEase: 'linear',
            pauseOnHover: true
        });
        $('.fade3').slick({
            arrows: true,
            autoplay: true,
            infinite: true,
            speed: 500,
            fade: true,
            cssEase: 'linear',
            pauseOnHover: true
        });
    </script>
    <script src="assets/js/menuzord.js"></script>
    <script src="assets/js/scripts.js"></script>
	
	<!--end js abdou-->
	
  </body>

<!-- Mirrored from projects.delimited.io/experiments/force-bubbles/radial.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 04 Nov 2017 23:55:24 GMT -->
</html>